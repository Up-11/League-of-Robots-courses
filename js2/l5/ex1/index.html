<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>–ú–∞–≥–∞–∑–∏–Ω –ú–æ—Ä–æ–∂–µ–Ω–Ω–æ–≥–æ "–°–ª–∞–¥–∫–∞—è –†–∞–¥–æ—Å—Ç—å"</title>
		<style>
			* {
				box-sizing: border-box;
				margin: 0;
				padding: 0;
			}

			body {
				font-family: 'Comic Sans MS', cursive, sans-serif;
				background: linear-gradient(135deg, #ffafbd, #ffc3a0);
				min-height: 100vh;
				padding: 20px;
				color: #5a3e36;
			}

			.container {
				max-width: 800px;
				margin: 0 auto;
				background-color: rgba(255, 255, 255, 0.9);
				border-radius: 20px;
				padding: 25px;
				box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
			}

			h1 {
				text-align: center;
				color: #d35400;
				margin-bottom: 20px;
				font-size: 2.5rem;
				text-shadow: 2px 2px 0 #ffd700;
			}

			.stats {
				background: linear-gradient(to right, #ffeaa7, #fab1a0);
				padding: 20px;
				border-radius: 15px;
				margin-bottom: 25px;
				display: flex;
				justify-content: space-around;
				flex-wrap: wrap;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
			}

			.stat-item {
				text-align: center;
				margin: 10px;
			}

			.stat-value {
				font-size: 2rem;
				font-weight: bold;
				color: #e17055;
			}

			.customer-card {
				background: linear-gradient(to bottom, #81ecec, #74b9ff);
				border-radius: 15px;
				padding: 20px;
				margin-bottom: 25px;
				box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
				transition: transform 0.3s;
			}

			.customer-card:hover {
				transform: translateY(-5px);
			}

			.customer-header {
				display: flex;
				align-items: center;
				margin-bottom: 15px;
			}

			.customer-avatar {
				width: 80px;
				height: 80px;
				border-radius: 50%;
				background-color: #ffeaa7;
				display: flex;
				align-items: center;
				justify-content: center;
				font-size: 2.5rem;
				margin-right: 15px;
				border: 3px solid #fff;
			}

			.customer-info {
				flex-grow: 1;
			}

			.customer-name {
				font-size: 1.8rem;
				font-weight: bold;
				color: #2d3436;
			}

			.customer-mood {
				font-size: 1.2rem;
				color: #636e72;
			}

			.customer-details {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
				gap: 15px;
				margin-top: 15px;
			}

			.detail-item {
				background-color: rgba(255, 255, 255, 0.7);
				padding: 10px;
				border-radius: 10px;
			}

			.flavors-list {
				display: flex;
				flex-wrap: wrap;
				gap: 10px;
				margin-top: 10px;
			}

			.flavor-tag {
				background-color: #fd79a8;
				color: white;
				padding: 5px 10px;
				border-radius: 20px;
				font-size: 0.9rem;
			}

			.controls {
				display: flex;
				justify-content: center;
				gap: 15px;
				margin-top: 20px;
				flex-wrap: wrap;
			}

			button {
				padding: 12px 25px;
				border: none;
				border-radius: 50px;
				font-size: 1.1rem;
				font-weight: bold;
				cursor: pointer;
				transition: all 0.3s;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
			}

			button:hover {
				transform: translateY(-3px);
				box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
			}

			button:active {
				transform: translateY(1px);
			}

			.start-btn {
				background: linear-gradient(to right, #00b894, #00cec9);
				color: white;
			}

			.serve-btn {
				background: linear-gradient(to right, #0984e3, #74b9ff);
				color: white;
			}

			.skip-btn {
				background: linear-gradient(to right, #e17055, #fab1a0);
				color: white;
			}

			.message {
				text-align: center;
				padding: 15px;
				margin: 20px 0;
				border-radius: 10px;
				font-size: 1.2rem;
				font-weight: bold;
				opacity: 0;
				transition: opacity 0.5s;
			}

			.success {
				background-color: #55efc4;
				color: #2d3436;
			}

			.error {
				background-color: #ff7675;
				color: white;
			}

			.ice-cream-display {
				display: flex;
				justify-content: center;
				flex-wrap: wrap;
				gap: 15px;
				margin: 20px 0;
			}

			.ice-cream-item {
				width: 100px;
				text-align: center;
				cursor: pointer;
				transition: transform 0.3s;
			}

			.ice-cream-item:hover {
				transform: scale(1.1);
			}

			.ice-cream-icon {
				font-size: 3rem;
				margin-bottom: 5px;
			}

			.ice-cream-price {
				font-weight: bold;
				color: #e17055;
			}

			.progress-bar {
				height: 10px;
				background-color: #dfe6e9;
				border-radius: 5px;
				margin: 10px 0;
				overflow: hidden;
			}

			.progress-fill {
				height: 100%;
				background: linear-gradient(to right, #00b894, #00cec9);
				width: 100%;
				transition: width 0.5s;
			}

			.instructions {
				background-color: rgba(253, 203, 110, 0.3);
				padding: 15px;
				border-radius: 10px;
				margin-top: 20px;
				border-left: 5px solid #fdcb6e;
			}

			@media (max-width: 600px) {
				.controls {
					flex-direction: column;
					align-items: center;
				}

				button {
					width: 100%;
					max-width: 300px;
				}

				.customer-header {
					flex-direction: column;
					text-align: center;
				}

				.customer-avatar {
					margin-right: 0;
					margin-bottom: 10px;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<h1>üç¶ –ú–∞–≥–∞–∑–∏–Ω –ú–æ—Ä–æ–∂–µ–Ω–Ω–æ–≥–æ "–°–ª–∞–¥–∫–∞—è –†–∞–¥–æ—Å—Ç—å"</h1>

			<div class="stats">
				<div class="stat-item">
					<div>üí∞ –ë–∞–ª–∞–Ω—Å</div>
					<div class="stat-value" id="balance">100</div>
					<div>–º–æ–Ω–µ—Ç</div>
				</div>
				<div class="stat-item">
					<div>üë• –û–±—Å–ª—É–∂–µ–Ω–æ</div>
					<div class="stat-value" id="served">0</div>
					<div>–∫–ª–∏–µ–Ω—Ç–æ–≤</div>
				</div>
				<div class="stat-item">
					<div>üéØ –£—Ä–æ–≤–µ–Ω—å</div>
					<div class="stat-value" id="level">1</div>
					<div>–º–∞–≥–∞–∑–∏–Ω–∞</div>
				</div>
			</div>

			<div class="message" id="message"></div>

			<div id="customer-display">
				<div class="customer-card">
					<div class="customer-header">
						<div class="customer-avatar">üë§</div>
						<div class="customer-info">
							<div class="customer-name">–ñ–¥—ë–º –ø–µ—Ä–≤–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞!</div>
							<div class="customer-mood">
								–ù–∞–∂–º–∏ "–ù–∞—á–∞—Ç—å –¥–µ–Ω—å", —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω
							</div>
						</div>
					</div>
				</div>
			</div>

			<div class="ice-cream-display" id="ice-cream-display">
				<!-- –°—é–¥–∞ –¥–æ–±–∞–≤—è—Ç—Å—è –≤–∞—Ä–∏–∞–Ω—Ç—ã –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–≥–æ -->
			</div>

			<div class="progress-bar">
				<div class="progress-fill" id="patience-bar" style="width: 100%"></div>
			</div>

			<div class="controls">
				<button class="start-btn" onclick="startNewDay()">
					üéØ –ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–µ–Ω—å
				</button>
				<button
					class="serve-btn"
					id="serve-btn"
					onclick="serveCustomer()"
					disabled
				>
					üç® –û–±—Å–ª—É–∂–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
				</button>
				<button
					class="skip-btn"
					id="skip-btn"
					onclick="skipCustomer()"
					disabled
				>
					‚è≠Ô∏è –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –∫–ª–∏–µ–Ω—Ç–∞
				</button>
			</div>

			<div class="instructions">
				<h3>üìã –ö–∞–∫ –∏–≥—Ä–∞—Ç—å:</h3>
				<p>1. –ù–∞–∂–º–∏ "–ù–∞—á–∞—Ç—å –Ω–æ–≤—ã–π –¥–µ–Ω—å" —á—Ç–æ–±—ã –æ—Ç–∫—Ä—ã—Ç—å –º–∞–≥–∞–∑–∏–Ω</p>
				<p>2. –ö–ª–∏–µ–Ω—Ç—ã –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å —Å —Ä–∞–∑–Ω—ã–º –±—é–¥–∂–µ—Ç–æ–º –∏ –≤–∫—É—Å–∞–º–∏</p>
				<p>3. –í—ã–±–µ—Ä–∏ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ, –∫–æ—Ç–æ—Ä–æ–µ —Ö–æ—á–µ—Ç –∫–ª–∏–µ–Ω—Ç (–∑–µ–ª—ë–Ω–∞—è —Ä–∞–º–∫–∞)</p>
				<p>4. –£ –∫–∞–∂–¥–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–æ–µ —Ç–µ—Ä–ø–µ–Ω–∏–µ - –ø–æ–ª–æ—Å–∫–∞ —Å–≤–µ—Ä—Ö—É</p>
				<p>5. –ó–∞—Ä–∞–±–∞—Ç—ã–≤–∞–π –¥–µ–Ω—å–≥–∏ –∏ —É–ª—É—á—à–∞–π —Å–≤–æ–π –º–∞–≥–∞–∑–∏–Ω!</p>
			</div>
		</div>

		<script>
			// –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–≥–æ
			const iceCreams = {
				vanilla: {
					name: '–í–∞–Ω–∏–ª—å–Ω–æ–µ',
					price: 15,
					color: '#fffacd',
					emoji: 'üç¶',
					description: '–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–æ–µ –≤–∞–Ω–∏–ª—å–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ',
				},
				chocolate: {
					name: '–®–æ–∫–æ–ª–∞–¥–Ω–æ–µ',
					price: 20,
					color: '#8b4513',
					emoji: 'üç´',
					description: '–ù–∞—Å—ã—â–µ–Ω–Ω–æ–µ —à–æ–∫–æ–ª–∞–¥–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ',
				},
				strawberry: {
					name: '–ö–ª—É–±–Ω–∏—á–Ω–æ–µ',
					price: 18,
					color: '#ffb6c1',
					emoji: 'üçì',
					description: '–°–≤–µ–∂–µ–µ –∫–ª—É–±–Ω–∏—á–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ',
				},
				mint: {
					name: '–ú—è—Ç–Ω–æ–µ',
					price: 22,
					color: '#98fb98',
					emoji: 'üåø',
					description: '–û—Å–≤–µ–∂–∞—é—â–µ–µ –º—è—Ç–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ',
				},
				blueberry: {
					name: '–ß–µ—Ä–Ω–∏—á–Ω–æ–µ',
					price: 25,
					color: '#9370db',
					emoji: 'ü´ê',
					description: '–Ø–≥–æ–¥–Ω–æ–µ —á–µ—Ä–Ω–∏—á–Ω–æ–µ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–µ',
				},
			}

			// –ò–≥—Ä–æ–≤—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
			let balance = 100
			let customersServed = 0
			let currentCustomer = null
			let dayActive = false
			let selectedIceCream = null
			let level = 1

			// –§—É–Ω–∫—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
			function generateCustomer() {
				const names = [
					'–ê–Ω—è',
					'–ú–∏—à–∞',
					'–°–∞—à–∞',
					'–ú–∞—à–∞',
					'–ö–æ–ª—è',
					'–õ–µ–Ω–∞',
					'–í–æ–≤–∞',
					'–î–∏–º–∞',
					'–û–ª—è',
					'–ü–µ—Ç—è',
				]
				const moods = [
					{ name: '—Å—á–∞—Å—Ç–ª–∏–≤—ã–π', emoji: 'üòä', patience: 3 },
					{ name: '–Ω–µ–π—Ç—Ä–∞–ª—å–Ω—ã–π', emoji: 'üòê', patience: 2 },
					{ name: '–Ω–µ—Ç–µ—Ä–ø–µ–ª–∏–≤—ã–π', emoji: 'üò†', patience: 1 },
				]

				const favoriteFlavors = []
				const allFlavors = Object.keys(iceCreams)

				// –°–ª—É—á–∞–π–Ω–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –ª—é–±–∏–º—ã—Ö –≤–∫—É—Å–æ–≤ (1-3)
				const numFavorites = Math.floor(Math.random() * 3) + 1
				for (let i = 0; i < numFavorites; i++) {
					const randomFlavor =
						allFlavors[Math.floor(Math.random() * allFlavors.length)]
					if (!favoriteFlavors.includes(randomFlavor)) {
						favoriteFlavors.push(randomFlavor)
					}
				}

				const mood = moods[Math.floor(Math.random() * moods.length)]

				return {
					name: names[Math.floor(Math.random() * names.length)],
					budget: Math.floor(Math.random() * 50) + 10 + level * 5, // –ë—é–¥–∂–µ—Ç —Ä–∞—Å—Ç–µ—Ç —Å —É—Ä–æ–≤–Ω–µ–º
					favoriteFlavors: favoriteFlavors,
					mood: mood,
					patience: mood.patience,
					maxPatience: mood.patience,
					emoji: ['üë¶', 'üëß', 'üë®', 'üë©'][Math.floor(Math.random() * 4)],
				}
			}

			// –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –∫–ª–∏–µ–Ω—Ç–µ
			function displayCustomer(customer) {
				const display = document.getElementById('customer-display')

				let flavorsHTML = ''
				customer.favoriteFlavors.forEach(flavor => {
					flavorsHTML += `<div class="flavor-tag">${iceCreams[flavor].emoji} ${iceCreams[flavor].name}</div>`
				})

				display.innerHTML = `
                <div class="customer-card">
                    <div class="customer-header">
                        <div class="customer-avatar">${customer.emoji}</div>
                        <div class="customer-info">
                            <div class="customer-name">${customer.name}</div>
                            <div class="customer-mood">–ù–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ: ${customer.mood.emoji} ${customer.mood.name}</div>
                        </div>
                    </div>
                    <div class="customer-details">
                        <div class="detail-item">
                            <strong>üí∞ –ë—é–¥–∂–µ—Ç:</strong> ${customer.budget} –º–æ–Ω–µ—Ç
                        </div>
                        <div class="detail-item">
                            <strong>‚ù§Ô∏è –õ—é–±–∏–º—ã–µ –≤–∫—É—Å—ã:</strong>
                            <div class="flavors-list">
                                ${flavorsHTML}
                            </div>
                        </div>
                    </div>
                </div>
            `

				// –û–±–Ω–æ–≤–ª—è–µ–º –ø–æ–ª–æ—Å–∫—É —Ç–µ—Ä–ø–µ–Ω–∏—è
				updatePatienceBar(customer.patience, customer.maxPatience)
			}

			// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–æ–ª–æ—Å–∫–∏ —Ç–µ—Ä–ø–µ–Ω–∏—è
			function updatePatienceBar(current, max) {
				const bar = document.getElementById('patience-bar')
				const width = (current / max) * 100
				bar.style.width = `${width}%`

				// –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —É—Ä–æ–≤–Ω—è —Ç–µ—Ä–ø–µ–Ω–∏—è
				if (width > 66) {
					bar.style.background = 'linear-gradient(to right, #00b894, #00cec9)'
				} else if (width > 33) {
					bar.style.background = 'linear-gradient(to right, #fdcb6e, #e17055)'
				} else {
					bar.style.background = 'linear-gradient(to right, #e17055, #d63031)'
				}
			}

			// –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–≥–æ
			function displayIceCreamOptions(customer) {
				const display = document.getElementById('ice-cream-display')
				let optionsHTML = ''

				Object.keys(iceCreams).forEach(flavor => {
					const iceCream = iceCreams[flavor]
					const isFavorite = customer.favoriteFlavors.includes(flavor)
					const canAfford = iceCream.price <= customer.budget
					const borderColor = isFavorite
						? '#00b894'
						: canAfford
						? '#74b9ff'
						: '#ff7675'

					optionsHTML += `
                    <div class="ice-cream-item" onclick="selectIceCream('${flavor}')" 
                         style="border: 3px solid ${borderColor}; border-radius: 10px; padding: 10px;">
                        <div class="ice-cream-icon">${iceCream.emoji}</div>
                        <div><strong>${iceCream.name}</strong></div>
                        <div class="ice-cream-price">${
													iceCream.price
												} –º–æ–Ω–µ—Ç</div>
                        ${
													isFavorite
														? '<div style="color: #00b894;">‚ù§Ô∏è –õ—é–±–∏–º—ã–π</div>'
														: ''
												}
                        ${
													!canAfford
														? '<div style="color: #ff7675;">‚ùå –î–æ—Ä–æ–≥–æ</div>'
														: ''
												}
                    </div>
                `
				})

				display.innerHTML = optionsHTML
			}

			// –§—É–Ω–∫—Ü–∏—è –≤—ã–±–æ—Ä–∞ –º–æ—Ä–æ–∂–µ–Ω–Ω–æ–≥–æ
			function selectIceCream(flavor) {
				selectedIceCream = flavor

				// –°–Ω–∏–º–∞–µ–º –≤—ã–¥–µ–ª–µ–Ω–∏–µ —Å–æ –≤—Å–µ—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤
				document.querySelectorAll('.ice-cream-item').forEach(item => {
					item.style.transform = 'scale(1)'
					item.style.boxShadow = 'none'
				})

				// –í—ã–¥–µ–ª—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç
				const selectedItem = document.querySelector(
					`.ice-cream-item[onclick="selectIceCream('${flavor}')"]`
				)
				if (selectedItem) {
					selectedItem.style.transform = 'scale(1.1)'
					selectedItem.style.boxShadow = '0 0 15px #74b9ff'
				}

				// –ê–∫—Ç–∏–≤–∏—Ä—É–µ–º –∫–Ω–æ–ø–∫—É –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è
				document.getElementById('serve-btn').disabled = false
			}

			// –§—É–Ω–∫—Ü–∏—è –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–∞
			function serveCustomer() {
				if (!currentCustomer || !selectedIceCream) return

				const iceCream = iceCreams[selectedIceCream]
				const isFavorite =
					currentCustomer.favoriteFlavors.includes(selectedIceCream)
				const canAfford = iceCream.price <= currentCustomer.budget

				let message = ''
				let messageType = ''

				if (!canAfford) {
					message = `‚ùå ${currentCustomer.name} –Ω–µ –º–æ–∂–µ—Ç –ø–æ–∑–≤–æ–ª–∏—Ç—å —Å–µ–±–µ ${iceCream.name} –∑–∞ ${iceCream.price} –º–æ–Ω–µ—Ç!`
					messageType = 'error'
					currentCustomer.patience--
				} else if (isFavorite) {
					// –ë–æ–Ω—É—Å –∑–∞ –ª—é–±–∏–º—ã–π –≤–∫—É—Å
					const bonus = Math.floor(iceCream.price * 0.3)
					const total = iceCream.price + bonus
					balance += total
					message = `üéâ –û—Ç–ª–∏—á–Ω–æ! ${currentCustomer.name} –æ–±–æ–∂–∞–µ—Ç ${iceCream.name} –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç —á–∞–µ–≤—ã–µ! +${total} –º–æ–Ω–µ—Ç (${iceCream.price} + –±–æ–Ω—É—Å ${bonus})`
					messageType = 'success'
					customersServed++
				} else {
					balance += iceCream.price
					message = `‚úÖ ${currentCustomer.name} –ø–æ–∫—É–ø–∞–µ—Ç ${iceCream.name} –∑–∞ ${iceCream.price} –º–æ–Ω–µ—Ç.`
					messageType = 'success'
					customersServed++
				}

				showMessage(message, messageType)
				updateStats()

				// –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ç–µ—Ä–ø–µ–Ω–∏–µ –∫–ª–∏–µ–Ω—Ç–∞
				if (currentCustomer.patience <= 0) {
					showMessage(
						`üò† ${currentCustomer.name} —É—Ö–æ–¥–∏—Ç, –ø–æ—Ç–æ–º—É —á—Ç–æ –≤—ã —Å–ª–∏—à–∫–æ–º –º–µ–¥–ª–∏—Ç–µ!`,
						'error'
					)
					nextCustomer()
				} else if (messageType === 'success') {
					setTimeout(nextCustomer, 1500)
				} else {
					updatePatienceBar(
						currentCustomer.patience,
						currentCustomer.maxPatience
					)
				}

				// –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–±–æ—Ä
				selectedIceCream = null
				document.getElementById('serve-btn').disabled = true
			}

			// –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–ø—É—Å–∫–∞ –∫–ª–∏–µ–Ω—Ç–∞
			function skipCustomer() {
				if (!currentCustomer) return

				showMessage(`‚è≠Ô∏è –í—ã –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ ${currentCustomer.name}.`, 'error')
				nextCustomer()
			}

			// –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ —Å–æ–æ–±—â–µ–Ω–∏—è
			function showMessage(text, type) {
				const messageEl = document.getElementById('message')
				messageEl.textContent = text
				messageEl.className = `message ${type}`
				messageEl.style.opacity = '1'

				setTimeout(() => {
					messageEl.style.opacity = '0'
				}, 3000)
			}

			// –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –∫–ª–∏–µ–Ω—Ç—É
			function nextCustomer() {
				if (!dayActive) return

				currentCustomer = generateCustomer()
				displayCustomer(currentCustomer)
				displayIceCreamOptions(currentCustomer)

				// –°–±—Ä–∞—Å—ã–≤–∞–µ–º –≤—ã–±–æ—Ä
				selectedIceCream = null
				document.getElementById('serve-btn').disabled = true

				// –ü—Ä–æ–≤–µ—Ä—è–µ–º —É—Ä–æ–≤–µ–Ω—å
				checkLevelUp()
			}

			// –§—É–Ω–∫—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–≤—ã—à–µ–Ω–∏—è —É—Ä–æ–≤–Ω—è
			function checkLevelUp() {
				const newLevel = Math.floor(customersServed / 5) + 1
				if (newLevel > level) {
					level = newLevel
					showMessage(
						`üéä –ü–æ–∑–¥—Ä–∞–≤–ª—è–µ–º! –í–∞—à –º–∞–≥–∞–∑–∏–Ω –¥–æ—Å—Ç–∏–≥ ${level} —É—Ä–æ–≤–Ω—è!`,
						'success'
					)
					updateStats()
				}
			}

			// –§—É–Ω–∫—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
			function updateStats() {
				document.getElementById('balance').textContent = balance
				document.getElementById('served').textContent = customersServed
				document.getElementById('level').textContent = level
			}

			// –§—É–Ω–∫—Ü–∏—è –Ω–∞—á–∞–ª–∞ –Ω–æ–≤–æ–≥–æ –¥–Ω—è
			function startNewDay() {
				balance = 100
				customersServed = 0
				level = 1
				dayActive = true

				document.getElementById('serve-btn').disabled = false
				document.getElementById('skip-btn').disabled = false

				updateStats()
				nextCustomer()

				showMessage('üéØ –î–µ–Ω—å –Ω–∞—á–∞–ª—Å—è! –£–¥–∞—á–∏ –≤ –ø—Ä–æ–¥–∞–∂–∞—Ö!', 'success')
			}
		</script>
	</body>
</html>
